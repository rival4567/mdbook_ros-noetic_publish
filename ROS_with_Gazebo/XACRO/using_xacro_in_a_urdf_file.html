<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Using Xacro to Clean Up a URDF File - ROS-Noetic-Tutorials</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="../../favicon.svg">
        
        
        <link rel="shortcut icon" href="../../favicon.png">
        
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        
        <link rel="stylesheet" href="../../css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="../../fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "ayu" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../../learn.html"><strong aria-hidden="true">1.</strong> Learn</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ROS_Basics_with_Turtlesim/main.html"><strong aria-hidden="true">1.1.</strong> ROS Basics with Turtlesim</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ROS_Basics_with_Turtlesim/ROS_Workspace/main.html"><strong aria-hidden="true">1.1.1.</strong> ROS Workspace</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ROS_Basics_with_Turtlesim/ROS_Workspace/create_a_catkin_workspace.html"><strong aria-hidden="true">1.1.1.1.</strong> Create a Catkin Workspace</a></li></ol></li><li class="chapter-item "><a href="../../ROS_Basics_with_Turtlesim/ROS_Package/main.html"><strong aria-hidden="true">1.1.2.</strong> ROS Package</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ROS_Basics_with_Turtlesim/ROS_Package/create_a_ros_package.html"><strong aria-hidden="true">1.1.2.1.</strong> Create a ROS Package</a></li></ol></li><li class="chapter-item "><a href="../../ROS_Basics_with_Turtlesim/ROS_Nodes/main.html"><strong aria-hidden="true">1.1.3.</strong> ROS Nodes</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ROS_Basics_with_Turtlesim/ROS_Nodes/create_a_ros_node.html"><strong aria-hidden="true">1.1.3.1.</strong> Create a ROS Node</a></li><li class="chapter-item "><a href="../../ROS_Basics_with_Turtlesim/ROS_Nodes/command_rosrun.html"><strong aria-hidden="true">1.1.3.2.</strong> Command: rosrun</a></li><li class="chapter-item "><a href="../../ROS_Basics_with_Turtlesim/ROS_Nodes/command_rosnode.html"><strong aria-hidden="true">1.1.3.3.</strong> Command: rosnode</a></li></ol></li><li class="chapter-item "><a href="../../ROS_Basics_with_Turtlesim/ROS_Master/main.html"><strong aria-hidden="true">1.1.4.</strong> ROS Master</a></li><li class="chapter-item "><a href="../../ROS_Basics_with_Turtlesim/ROS_Parameter_Server/main.html"><strong aria-hidden="true">1.1.5.</strong> ROS Parameter Server</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ROS_Basics_with_Turtlesim/ROS_Parameter_Server/load_parameters_using_yaml_file.html"><strong aria-hidden="true">1.1.5.1.</strong> Load Parameters using YAML file</a></li><li class="chapter-item "><a href="../../ROS_Basics_with_Turtlesim/ROS_Parameter_Server/ros_node_to_get_and_set_parameters.html"><strong aria-hidden="true">1.1.5.2.</strong> Example #1: ROS Node to Get and Set Parameters</a></li></ol></li><li class="chapter-item "><a href="../../ROS_Basics_with_Turtlesim/ROS_Launch_Files/main.html"><strong aria-hidden="true">1.1.6.</strong> ROS Launch Files</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ROS_Basics_with_Turtlesim/ROS_Launch_Files/create_a_ros_launch_file.html"><strong aria-hidden="true">1.1.6.1.</strong> Create a ROS Launch File</a></li><li class="chapter-item "><a href="../../ROS_Basics_with_Turtlesim/ROS_Launch_Files/launch_two_ros_nodes.html"><strong aria-hidden="true">1.1.6.2.</strong> Example #1: Launch two ROS Nodes</a></li><li class="chapter-item "><a href="../../ROS_Basics_with_Turtlesim/ROS_Launch_Files/launch_turtle_in_forest.html"><strong aria-hidden="true">1.1.6.3.</strong> Example #2: Launch Turtle in Forest</a></li><li class="chapter-item "><a href="../../ROS_Basics_with_Turtlesim/ROS_Launch_Files/load_yaml.html"><strong aria-hidden="true">1.1.6.4.</strong> Example #3: Load YAML</a></li><li class="chapter-item "><a href="../../ROS_Basics_with_Turtlesim/ROS_Launch_Files/launch_shell_script_and_ros_node.html"><strong aria-hidden="true">1.1.6.5.</strong> Example #4: Launch Shell Script and ROS Node</a></li></ol></li><li class="chapter-item "><a href="../../ROS_Basics_with_Turtlesim/ROS_Communication/main.html"><strong aria-hidden="true">1.1.7.</strong> ROS Communication</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ROS_Basics_with_Turtlesim/ROS_Communication/ROS_Topics/main.html"><strong aria-hidden="true">1.1.7.1.</strong> ROS Topics</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ROS_Basics_with_Turtlesim/ROS_Communication/ROS_Topics/command_rostopic/main.html"><strong aria-hidden="true">1.1.7.1.1.</strong> Command: rostopic</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ROS_Basics_with_Turtlesim/ROS_Communication/ROS_Topics/command_rostopic/list.html"><strong aria-hidden="true">1.1.7.1.1.1.</strong> list</a></li><li class="chapter-item "><a href="../../ROS_Basics_with_Turtlesim/ROS_Communication/ROS_Topics/command_rostopic/type_info_and_rosmsg.html"><strong aria-hidden="true">1.1.7.1.1.2.</strong> type, info and rosmsg</a></li><li class="chapter-item "><a href="../../ROS_Basics_with_Turtlesim/ROS_Communication/ROS_Topics/command_rostopic/pub.html"><strong aria-hidden="true">1.1.7.1.1.3.</strong> pub</a></li><li class="chapter-item "><a href="../../ROS_Basics_with_Turtlesim/ROS_Communication/ROS_Topics/command_rostopic/echo.html"><strong aria-hidden="true">1.1.7.1.1.4.</strong> echo</a></li></ol></li><li class="chapter-item "><a href="../../ROS_Basics_with_Turtlesim/ROS_Communication/ROS_Topics/pub_sub_with_custom_message.html"><strong aria-hidden="true">1.1.7.1.2.</strong> Example #1: Pub-Sub with Custom Message</a></li></ol></li><li class="chapter-item "><a href="../../ROS_Basics_with_Turtlesim/ROS_Communication/ROS_Services/main.html"><strong aria-hidden="true">1.1.7.2.</strong> ROS Services</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ROS_Basics_with_Turtlesim/ROS_Communication/ROS_Services/create_a_srv_file.html"><strong aria-hidden="true">1.1.7.2.1.</strong> Create a srv file</a></li><li class="chapter-item "><a href="../../ROS_Basics_with_Turtlesim/ROS_Communication/ROS_Services/test_ros_services_server_and_client.html"><strong aria-hidden="true">1.1.7.2.2.</strong> Test ROS Services - Server and Client</a></li></ol></li><li class="chapter-item "><a href="../../ROS_Basics_with_Turtlesim/ROS_Communication/ROS_Actions/main.html"><strong aria-hidden="true">1.1.7.3.</strong> ROS Actions</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ROS_Basics_with_Turtlesim/ROS_Communication/ROS_Actions/create_a_action_message_file.html"><strong aria-hidden="true">1.1.7.3.1.</strong> Create an action message file</a></li><li class="chapter-item "><a href="../../ROS_Basics_with_Turtlesim/ROS_Communication/ROS_Actions/simple_action_server_and_client.html"><strong aria-hidden="true">1.1.7.3.2.</strong> Simple Action Server &amp; Client</a></li><li class="chapter-item "><a href="../../ROS_Basics_with_Turtlesim/ROS_Communication/ROS_Actions/action_server_and_client.html"><strong aria-hidden="true">1.1.7.3.3.</strong> Action Server &amp; Client</a></li><li class="chapter-item "><a href="../../ROS_Basics_with_Turtlesim/ROS_Communication/ROS_Actions/ros_actions_walkthrough_videos.html"><strong aria-hidden="true">1.1.7.3.4.</strong> ROS Actions Walkthrough Videos</a></li></ol></li></ol></li><li class="chapter-item "><a href="../../ROS_Basics_with_Turtlesim/ROS_TF/main.html"><strong aria-hidden="true">1.1.8.</strong> ROS TF</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ROS_Basics_with_Turtlesim/ROS_TF/ros_tf_using_turtlesim.html"><strong aria-hidden="true">1.1.8.1.</strong> ROS tf using turtlesim</a></li></ol></li><li class="chapter-item "><a href="../../ROS_Basics_with_Turtlesim/Miscellaneous/main.html"><strong aria-hidden="true">1.1.9.</strong> Miscellaneous</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ROS_Basics_with_Turtlesim/Miscellaneous/rqt_graph.html"><strong aria-hidden="true">1.1.9.1.</strong> Rqt_graph</a></li><li class="chapter-item "><a href="../../ROS_Basics_with_Turtlesim/Miscellaneous/plot_juggler.html"><strong aria-hidden="true">1.1.9.2.</strong> Plot juggler</a></li><li class="chapter-item "><a href="../../ROS_Basics_with_Turtlesim/Miscellaneous/ros_bags.html"><strong aria-hidden="true">1.1.9.3.</strong> ROS Bags</a></li></ol></li></ol></li><li class="chapter-item "><a href="../../Additional_Sections/main.html"><strong aria-hidden="true">1.2.</strong> Additional Sections</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Additional_Sections/configuring_your_ros_environment.html"><strong aria-hidden="true">1.2.1.</strong> Configuring your ROS environment</a></li><li class="chapter-item "><a href="../../Additional_Sections/introducing_turtlesim_and_rqt.html"><strong aria-hidden="true">1.2.2.</strong> Introducing turtlesim and rqt</a></li><li class="chapter-item "><a href="../../Additional_Sections/ros_nodes.html"><strong aria-hidden="true">1.2.3.</strong> Understanding ROS nodes</a></li><li class="chapter-item "><a href="../../Additional_Sections/ros_topics.html"><strong aria-hidden="true">1.2.4.</strong> Understanding ROS topics</a></li><li class="chapter-item "><a href="../../Additional_Sections/ros_services.html"><strong aria-hidden="true">1.2.5.</strong> Understanding ROS services</a></li></ol></li><li class="chapter-item expanded "><a href="../../ROS_with_Gazebo/main.html"><strong aria-hidden="true">1.3.</strong> ROS with Gazebo</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ROS_with_Gazebo/installation.html"><strong aria-hidden="true">1.3.1.</strong> Installation Guide</a></li><li class="chapter-item "><a href="../../ROS_with_Gazebo/Gazebo_Simulator/main.html"><strong aria-hidden="true">1.3.2.</strong> Gazebo Simulator</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ROS_with_Gazebo/Gazebo_Simulator/knocking_one_pin.html"><strong aria-hidden="true">1.3.2.1.</strong> Example: Knock down the bowling pin</a></li></ol></li><li class="chapter-item "><a href="../../ROS_with_Gazebo/rviz.html"><strong aria-hidden="true">1.3.3.</strong> RViz</a></li><li class="chapter-item "><a href="../../ROS_with_Gazebo/URDF/main.html"><strong aria-hidden="true">1.3.4.</strong> URDF</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ROS_with_Gazebo/URDF/visual_robot_model_with_urdf.html"><strong aria-hidden="true">1.3.4.1.</strong> Visual Robot Model with URDF</a></li><li class="chapter-item "><a href="../../ROS_with_Gazebo/URDF/defining_joints_in_urdf.html"><strong aria-hidden="true">1.3.4.2.</strong> Defining Movable Joints in URDF</a></li><li class="chapter-item "><a href="../../ROS_with_Gazebo/URDF/physical_and_collision_properties_in_urdf_model.html"><strong aria-hidden="true">1.3.4.3.</strong> Adding Physical and Collision Properties to a URDF Model</a></li></ol></li><li class="chapter-item expanded "><a href="../../ROS_with_Gazebo/XACRO/main.html"><strong aria-hidden="true">1.3.5.</strong> XACRO</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../ROS_with_Gazebo/XACRO/using_xacro_in_a_urdf_file.html" class="active"><strong aria-hidden="true">1.3.5.1.</strong> Using Xacro to Clean Up a URDF File</a></li></ol></li><li class="chapter-item "><a href="../../ROS_with_Gazebo/Gazebo_Plugins/main.html"><strong aria-hidden="true">1.3.6.</strong> Gazebo Plugins</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ROS_with_Gazebo/Gazebo_Plugins/using_urdf_in_gazebo.html"><strong aria-hidden="true">1.3.6.1.</strong> Using URDF in Gazebo</a></li></ol></li></ol></li></ol></li><li class="chapter-item "><a href="../../tasks/main.html"><strong aria-hidden="true">2.</strong> Tasks</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../tasks/task0/main.html"><strong aria-hidden="true">2.1.</strong> Task0</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../tasks/task0/turtle-task.html"><strong aria-hidden="true">2.1.1.</strong> Problem Statement</a></li><li class="chapter-item "><a href="../../tasks/task0/expected-output.html"><strong aria-hidden="true">2.1.2.</strong> Expected Output</a></li><li class="chapter-item "><a href="../../tasks/task0/recording-logs.html"><strong aria-hidden="true">2.1.3.</strong> Recording Logs</a></li><li class="chapter-item "><a href="../../tasks/task0/solution.html"><strong aria-hidden="true">2.1.4.</strong> Solution</a></li><li class="chapter-item "><a href="../../tasks/task0/autoeval.html"><strong aria-hidden="true">2.1.5.</strong> Autoeval script</a></li></ol></li><li class="chapter-item "><a href="../../tasks/task_2/main.html"><strong aria-hidden="true">2.2.</strong> Task2</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../tasks/task_2/problem_statement.html"><strong aria-hidden="true">2.2.1.</strong> Problem Statement</a></li><li class="chapter-item "><a href="../../tasks/task_2/expected_output.html"><strong aria-hidden="true">2.2.2.</strong> Expected Output</a></li><li class="chapter-item "><a href="../../tasks/task_2/recording-logs.html"><strong aria-hidden="true">2.2.3.</strong> Recording Logs</a></li><li class="chapter-item "><a href="../../tasks/task_2/solution.html"><strong aria-hidden="true">2.2.4.</strong> Solution</a></li><li class="chapter-item "><a href="../../tasks/task_2/autoeval_script.html"><strong aria-hidden="true">2.2.5.</strong> Autoeval script</a></li></ol></li><li class="chapter-item "><a href="../../tasks/task_g/main.html"><strong aria-hidden="true">2.3.</strong> Task on Gazebo</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../tasks/task_g/problem_statement.html"><strong aria-hidden="true">2.3.1.</strong> Problem Statement</a></li><li class="chapter-item "><a href="../../tasks/task_g/expected_output.html"><strong aria-hidden="true">2.3.2.</strong> Expected Output</a></li></ol></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">ROS-Noetic-Tutorials</h1>

                    <div class="right-buttons">
                        
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                        

                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="using-xacro-to-clean-up-a-urdf-file"><a class="header" href="#using-xacro-to-clean-up-a-urdf-file">Using Xacro to Clean Up a URDF File</a></h1>
<p>By now, if you’re following all these steps at home with your own robot design, you might be sick of doing all sorts of math to get very simple robot descriptions to parse correctly. Fortunately, you can use the <a href="http://wiki.ros.org/xacro">xacro</a> package to make your life simpler. It does three things that are very helpful.</p>
<ul>
<li>Constants</li>
<li>Simple Math</li>
<li>Macros </li>
</ul>
<p>In this tutorial, we take a look at all these shortcuts to help reduce the overall size of the URDF file and make it easier to read and maintain.</p>
<h2 id="1-using-xacro"><a class="header" href="#1-using-xacro">1. Using Xacro</a></h2>
<p>At the top of the URDF file, you must specify a namespace in order for the file to parse properly. For example, these are the first two lines of a valid xacro file:</p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot;?&gt;

&lt;robot name=&quot;myrobot&quot; xmlns:xacro=&quot;http://ros.org/wiki/xacro&quot;&gt;
</code></pre>
<h2 id="2-constants"><a class="header" href="#2-constants">2. Constants</a></h2>
<p>Let’s take a quick look at our base_link</p>
<pre><code class="language-xml">&lt;link name=&quot;base_link&quot;&gt;
    &lt;visual&gt;
        &lt;origin rpy=&quot;0 0 0&quot; xyz=&quot;0 0 0.5&quot;/&gt;
        &lt;geometry&gt;
            &lt;box size=&quot;0.8 1.8 0.6&quot;/&gt;
        &lt;/geometry&gt;
        &lt;material name=&quot;blue&quot;/&gt;
    &lt;/visual&gt;
    &lt;collision&gt;
        &lt;geometry&gt;
            &lt;box size=&quot;0.8 1.8 0.6&quot;/&gt;
        &lt;/geometry&gt;
    &lt;/collision&gt;
&lt;/link&gt;
</code></pre>
<p>The information here is a little redundant. We specify the length and breadth and height of the box twice. Worse, if we want to change that, we need to do so in two different places.</p>
<p>Fortunately, xacro allows you to specify properties which act as constants. Instead, of the above code, we can write this.</p>
<pre><code class="language-xml">&lt;xacro:property name=&quot;width&quot; value=&quot;0.8&quot; /&gt;
&lt;xacro:property name=&quot;bodylen&quot; value=&quot;1.8&quot; /&gt;
&lt;xacro:property name=&quot;height&quot; value=&quot;0.6&quot; /&gt;

&lt;link name=&quot;base_link&quot;&gt;
    &lt;visual&gt;
        &lt;origin rpy=&quot;0 0 0&quot; xyz=&quot;0 0 0.5&quot;/&gt;
        &lt;geometry&gt;
            &lt;box size=&quot;${width} ${bodylen} ${height}&quot;/&gt;
        &lt;/geometry&gt;
        &lt;material name=&quot;blue&quot;/&gt;
    &lt;/visual&gt;
    &lt;collision&gt;
        &lt;geometry&gt;
            &lt;box size=&quot;${width} ${bodylen} ${height}&quot;/&gt;
        &lt;/geometry&gt;
    &lt;/collision&gt;
&lt;/link&gt;
</code></pre>
<ul>
<li>The values are specified in the first three lines. They can be defined just about anywhere (assuming valid XML), at any level, before or after they are used. Usually they go at the top.</li>
<li>Instead of specifying the actual width in the geometry element, we use a dollar sign and curly brackets to signify the value.</li>
</ul>
<p>The value of the contents of the ${} construct are then used to replace the ${}. This means you can combine it with other text in the attribute.</p>
<p>For example: </p>
<pre><code class="language-xml">&lt;xacro:property name=&quot;robotname&quot; value=&quot;marvin&quot; /&gt;
&lt;link name=&quot;${robotname}s_leg&quot; /&gt;
</code></pre>
<p>This will generate</p>
<pre><code class="language-xml">&lt;link name=&quot;marvins_leg&quot; /&gt;
</code></pre>
<p>However, the contents in the ${} don’t have to only be a property, which brings us to our next point... </p>
<h2 id="3-math"><a class="header" href="#3-math">3. Math</a></h2>
<p>You can build up arbitrarily complex expressions in the ${} construct using the four basic operations, the unary minus, and parenthesis. Examples:</p>
<pre><code class="language-xml">&lt;cylinder radius=&quot;${wheeldiam/2}&quot; length=&quot;0.1&quot;/&gt;
&lt;origin xyz=&quot;${reflect*(width+.02)} 0 0.25&quot; /&gt;
</code></pre>
<p>All of the math is done using floats, hence</p>
<pre><code class="language-xml">&lt;link name=&quot;${5/6}&quot;/&gt;
</code></pre>
<p>evaluates to</p>
<pre><code class="language-bash">&lt;link name=&quot;0.833333333333&quot;/&gt;
</code></pre>
<p>In <a href="http://wiki.ros.org/xacro#Math_expressions">Jade</a> and later distros, you can use more than the basic operations listed above, notably sin and cos.</p>
<h2 id="4-macros"><a class="header" href="#4-macros">4. Macros</a></h2>
<p>Here’s the biggest and most useful component to the xacro package.</p>
<h3 id="41-simple-macro"><a class="header" href="#41-simple-macro">4.1 Simple Macro</a></h3>
<p>Let’s take a look at a simple useless macro.</p>
<pre><code class="language-xml">&lt;xacro:macro name=&quot;default_origin&quot;&gt;
	&lt;origin xyz=&quot;0 0 0&quot; rpy=&quot;0 0 0&quot;/&gt;
&lt;/xacro:macro&gt;
&lt;xacro:default_origin /&gt;
</code></pre>
<p>(This is useless, since if the origin is not specified, it has the same value as this.) This code will generate the following. </p>
<pre><code class="language-xml">&lt;origin rpy=&quot;0 0 0&quot; xyz=&quot;0 0 0&quot;/&gt;
</code></pre>
<ul>
<li>The name is not technically a required element, but you need to specify it to be able to use it.</li>
<li>Every instance of the <code>&lt;xacro:$NAME /&gt;</code> is replaced with the contents of the xacro:macro tag.</li>
<li>If the xacro with a specified name is not found, it will not be expanded and will NOT generate an error.</li>
</ul>
<h3 id="42-parameterized-macro"><a class="header" href="#42-parameterized-macro">4.2 Parameterized Macro</a></h3>
<p>You can also parameterize macros so that they don’t generate the same exact text every time. When combined with the math functionality, this is even more powerful.</p>
<p>First, let’s take an example of a simple macro we will use in our model.</p>
<pre><code class="language-xml">&lt;xacro:macro name=&quot;default_inertial&quot; params=&quot;mass&quot;&gt;
	&lt;inertial&gt;
		&lt;mass value=&quot;${mass}&quot; /&gt;
		&lt;inertia ixx=&quot;1.0&quot; ixy=&quot;0.0&quot; ixz=&quot;0.0&quot; iyy=&quot;1.0&quot; iyz=&quot;0.0&quot; izz=&quot;1.0&quot; /&gt;
	&lt;/inertial&gt;
&lt;/xacro:macro&gt;
</code></pre>
<p>This can be used with the code </p>
<pre><code class="language-xml">&lt;xacro:default_inertial mass=&quot;10&quot;/&gt;
</code></pre>
<p>The parameters act just like properties, and you can use them in expressions</p>
<p>You can also use entire blocks as parameters too.</p>
<pre><code class="language-xml">&lt;xacro:macro name=&quot;blue_shape&quot; params=&quot;name *shape&quot;&gt;
	&lt;link name=&quot;${name}&quot;&gt;
 		&lt;visual&gt;
			&lt;geometry&gt;
				&lt;xacro:insert_block name=&quot;shape&quot; /&gt;
			&lt;/geometry&gt;
			&lt;material name=&quot;blue&quot;/&gt;
		&lt;/visual&gt;
		&lt;collision&gt;
			&lt;geometry&gt;
				&lt;xacro:insert_block name=&quot;shape&quot; /&gt;
			&lt;/geometry&gt;
		&lt;/collision&gt;
	&lt;/link&gt;
&lt;/xacro:macro&gt;

&lt;xacro:blue_shape name=&quot;base_link&quot;&gt;
	&lt;cylinder radius=&quot;.42&quot; length=&quot;.01&quot; /&gt;
&lt;/xacro:blue_shape&gt;
</code></pre>
<ul>
<li>To specify a block parameter, include an asterisk before its parameter name.</li>
<li>A block can be inserted using the insert_block command </li>
<li>Insert the block as many times as you wish. </li>
</ul>
<h2 id="5-practical-usage"><a class="header" href="#5-practical-usage">5. Practical Usage</a></h2>
<p>The xacro language is rather flexible in what it allows you to do. This is the macroed version of our urdf model made in previous tutorials simply called <code>macroed.urdf.xacro</code>.</p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot;?&gt;

&lt;robot name=&quot;myrobot&quot; xmlns:xacro=&quot;http://ros.org/wiki/xacro&quot;&gt;
    
    &lt;xacro:property name=&quot;width&quot; value=&quot;0.8&quot; /&gt;
    &lt;xacro:property name=&quot;bodylen&quot; value=&quot;1.8&quot; /&gt;
    &lt;xacro:property name=&quot;height&quot; value=&quot;0.6&quot; /&gt;
    &lt;xacro:property name=&quot;wheellen&quot; value=&quot;0.2&quot; /&gt;
    &lt;xacro:property name=&quot;wheeldiam&quot; value=&quot;0.6&quot; /&gt;
    &lt;xacro:property name=&quot;pi&quot; value=&quot;3.1415&quot; /&gt;

    &lt;material name=&quot;blue&quot;&gt;
        &lt;color rgba=&quot;0 0 0.8 1&quot;/&gt;
    &lt;/material&gt;
    &lt;material name=&quot;white&quot;&gt;
        &lt;color rgba=&quot;1 1 1 1&quot;/&gt;
    &lt;/material&gt;
    &lt;material name=&quot;black&quot;&gt;
        &lt;color rgba=&quot;0 0 0 1&quot;/&gt;
    &lt;/material&gt;

    &lt;xacro:macro name=&quot;default_inertial&quot; params=&quot;mass&quot;&gt;
        &lt;inertial&gt;
            &lt;mass value=&quot;${mass}&quot; /&gt;
            &lt;inertia ixx=&quot;1.0&quot; ixy=&quot;0.0&quot; ixz=&quot;0.0&quot; iyy=&quot;1.0&quot; iyz=&quot;0.0&quot; izz=&quot;1.0&quot; /&gt;
        &lt;/inertial&gt;
    &lt;/xacro:macro&gt;

    &lt;link name=&quot;base_link&quot;&gt;
        &lt;visual&gt;
            &lt;origin rpy=&quot;0 0 0&quot; xyz=&quot;0 0 0.5&quot;/&gt;
            &lt;geometry&gt;
                &lt;box size=&quot;${width} ${bodylen} ${height}&quot;/&gt;
            &lt;/geometry&gt;
            &lt;material name=&quot;blue&quot;/&gt;
        &lt;/visual&gt;
        &lt;collision&gt;
            &lt;geometry&gt;
                &lt;box size=&quot;${width} ${bodylen} ${height}&quot;/&gt;
            &lt;/geometry&gt;
        &lt;/collision&gt;
        &lt;xacro:default_inertial mass=&quot;10&quot;/&gt;
    &lt;/link&gt;

     &lt;xacro:macro name=&quot;wheel&quot; params=&quot;prefix suffix reflect_x reflect_y&quot;&gt;
        &lt;link name=&quot;${prefix}_${suffix}_wheel&quot;&gt;
            &lt;visual&gt;
                &lt;origin xyz=&quot;0 0 0&quot; rpy=&quot;0 ${pi/2} 0&quot; /&gt;
                &lt;geometry&gt;
                    &lt;cylinder radius=&quot;${wheeldiam/2}&quot; length=&quot;${wheellen}&quot;/&gt;
                &lt;/geometry&gt;
                &lt;material name=&quot;black&quot;/&gt;
            &lt;/visual&gt;
            &lt;collision&gt;
                &lt;origin xyz=&quot;0 0 0&quot; rpy=&quot;0 ${pi/2} 0&quot; /&gt;
                &lt;geometry&gt;
                    &lt;cylinder radius=&quot;${wheeldiam/2}&quot; length=&quot;${wheellen}&quot;/&gt;
                &lt;/geometry&gt;
            &lt;/collision&gt;
            &lt;xacro:default_inertial mass=&quot;1&quot;/&gt;
        &lt;/link&gt;
        &lt;joint name=&quot;${prefix}_${suffix}_wheel_joint&quot; type=&quot;continuous&quot;&gt;
            &lt;axis xyz=&quot;1 0 0&quot; rpy=&quot;0 0 0&quot; /&gt;
            &lt;parent link=&quot;base_link&quot;/&gt;
            &lt;child link=&quot;${prefix}_${suffix}_wheel&quot;/&gt;
            &lt;origin xyz=&quot;${reflect_x*width/2} ${reflect_y*bodylen/4} ${wheeldiam/2}&quot; rpy=&quot;0 0 0&quot;/&gt;
        &lt;/joint&gt;
    &lt;/xacro:macro&gt;

    &lt;xacro:wheel prefix=&quot;right&quot; suffix=&quot;front&quot; reflect_x=&quot;1&quot; reflect_y=&quot;1&quot; /&gt;
    &lt;xacro:wheel prefix=&quot;left&quot; suffix=&quot;front&quot; reflect_x=&quot;-1&quot; reflect_y=&quot;1&quot; /&gt;
    &lt;xacro:wheel prefix=&quot;right&quot; suffix=&quot;back&quot; reflect_x=&quot;1&quot; reflect_y=&quot;-1&quot; /&gt;
    &lt;xacro:wheel prefix=&quot;left&quot; suffix=&quot;back&quot; reflect_x=&quot;-1&quot; reflect_y=&quot;-1&quot; /&gt;
&lt;/robot&gt;

</code></pre>
<p>To see the model generated by a xacro file, run the following command:</p>
<p>first make sure you are in your package directory.</p>
<pre><code class="language-bash">roscd myrobot_description
</code></pre>
<p>and then run:</p>
<pre><code class="language-bash">roslaunch myrobot_description display.launch model:=urdf/macroed.urdf.xacro
</code></pre>
<p>This should give the same output as our previous tutorial.</p>
<hr>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../../ROS_with_Gazebo/XACRO/main.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../../ROS_with_Gazebo/Gazebo_Plugins/main.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="../../ROS_with_Gazebo/XACRO/main.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="../../ROS_with_Gazebo/Gazebo_Plugins/main.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="../../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
